/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.8'
    id 'org.beryx.runtime' version '1.9.1'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.apache.pdfbox:pdfbox:2.0.19'
    implementation 'commons-io:commons-io:2.7'
    implementation 'org.passay:passay:1.6.0'
}

javafx {
    modules = ['javafx.controls']
}

application {
    mainClassName = 'org.openjfx.Launcher'
    applicationName = 'PdfEncryptor'
}

runtime {
    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']
    jpackage {
        jpackageHome = 'C:\\Program Files\\Java\\jdk-14.0.1'

        if(org.gradle.internal.os.OperatingSystem.current().windows) {
            imageName = 'PdfEncryptor'
            //installerType = 'msi'
            installerName = 'PdfEncryptor'
            resourceDir = file("$buildDir/resources")
            imageOptions = ['--icon', '$resourceDir/pdfencryptor.ico',
                            '--vendor', 'Constant Malanda']
            installerOptions = ['--win-per-user-install',
                                '--win-dir-chooser',
                                '--win-menu',
                                '--win-shortcut',
                                '--description', 'Pdf Encryptor',
                                '--vendor', 'Constant Malanda']
        }
    }
}

compileJava.options.encoding = 'UTF-8'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

